<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h3>Welcome to Javascript Sessions </h3>
    <h4>Browser contains</h4>
    <div id="eventRegistrationExample">
        <ul>
            <li>Ajax + callbacks + Promise</li>
        
        </ul>
    </div>
    <script>
        // how do we create object 
        var watch = {
            shape: 'circular',
            dialColor: 'white',
            type: "wristwatch",
            
        };
        watch.owner = "Krishna";
        var watch1 = watch;
        var watch2 = Object.create(watch);
        console.log(this);
        function LoginCredentials(username , password){
            console.log(this);
            this.username = username;
            this.pwd = password;
        }

        var loginDetails = new LoginCredentials("Krishna", "pwd123")    
        



        watch1.owner = "Balaram";// call by reference 

        var value1 = 10;
        var value2 = value1;
        value2 = 15;
        console.log(value1); // call by value 
        
        var dataFromServer;
        // get , comparison operators, and operator, xhr.readyState , xhr.status
        
        var xhr = new XMLHttpRequest();
        function getData(send){
            xhr.open("get", "https://jsonplaceholder.typicode.com/posts", true)
            xhr.setRequestHeader("content-type","application/json");
            xhr.responseType = "json";
            xhr.onreadystatechange = function(resp){
                if(xhr.status == 200 && xhr.readyState == 4){
                    console.log(xhr.response);
                    dataFromServer = xhr.response[0];
                    send(xhr.repsonse[0]);
                }
            }
            xhr.onerror = function(err){
                console.log(err);
            }
            xhr.send();
        }
        function dataFn(){
            getData(function(response){
                document.getElementById('eventRegistrationExample').innerText = response;
            })
        }
        dataFn();
        
        
    </script>

</body>
</html>